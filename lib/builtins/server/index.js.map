{"version":3,"sources":["../../../src/builtins/server/index.js"],"names":["path","require","fs","localConfig","steps","getTemplatePath","module","exports","app","options","targetPath","join","workingPath","appDir","ensureDirSync","ensureSafeToCreateProject_","templatePath","appMode","copyFilesFromTemplate_","createOptionalFiles_","npmInstall_"],"mappings":";;;;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAASD,OAAO,CAAC,WAAD,CAAtB;;AACA,MAAME,WAAW,GAAGF,OAAO,CAAC,UAAD,CAA3B;;AACA,MAAM;AAAEG,EAAAA;AAAF,IAAYH,OAAO,CAAC,OAAD,CAAzB;;AACA,MAAMI,eAAe,GAAGJ,OAAO,CAAC,6BAAD,CAA/B;;AAEAK,MAAM,CAACC,OAAP,GAAiB,OAAOC,GAAP,EAAYC,OAAZ,KAAwB;AACrCA,EAAAA,OAAO,GAAG,EACN,GAAGN,WADG;AAEN,OAAGM;AAFG,GAAV;AAKA,QAAMC,UAAU,GAAGV,IAAI,CAACW,IAAL,CAAUF,OAAO,CAACG,WAAlB,EAA+BH,OAAO,CAACI,MAAvC,CAAnB;AACAX,EAAAA,EAAE,CAACY,aAAH,CAAiBJ,UAAjB;AAEAN,EAAAA,KAAK,CAACW,0BAAN,CAAiCP,GAAjC,EAAsCE,UAAtC,EAAkD,CAAC,cAAD,CAAlD;AAEA,QAAMM,YAAY,GAAGX,eAAe,CAACI,OAAO,CAACQ,OAAT,CAApC;AAEA,QAAMb,KAAK,CAACc,sBAAN,CAA6BV,GAA7B,EAAkCQ,YAAlC,EAAgDN,UAAhD,EAA4DD,OAA5D,CAAN;AAEA,QAAML,KAAK,CAACe,oBAAN,CAA2BX,GAA3B,EAAgCE,UAAhC,EAA4CD,OAA5C,CAAN;AAEA,QAAML,KAAK,CAACgB,WAAN,CAAkBZ,GAAlB,EAAuBE,UAAvB,EAAmCD,OAAnC,CAAN;AACH,CAlBD","sourcesContent":["const path = require(\"path\");\nconst { fs } = require('@genx/sys'); \nconst localConfig = require(\"./config\");\nconst { steps } = require(\"../..\");\nconst getTemplatePath = require(\"../../utils/getTemplatePath\");\n\nmodule.exports = async (app, options) => {\n    options = {\n        ...localConfig,\n        ...options,\n    };\n\n    const targetPath = path.join(options.workingPath, options.appDir);\n    fs.ensureDirSync(targetPath);\n\n    steps.ensureSafeToCreateProject_(app, targetPath, [\"package.json\"]);\n\n    const templatePath = getTemplatePath(options.appMode);\n\n    await steps.copyFilesFromTemplate_(app, templatePath, targetPath, options);\n\n    await steps.createOptionalFiles_(app, targetPath, options);\n\n    await steps.npmInstall_(app, targetPath, options);\n};\n"],"file":"index.js"}