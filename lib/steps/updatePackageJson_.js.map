{"version":3,"sources":["../../src/steps/updatePackageJson_.js"],"names":["path","require","fs","module","exports","app","rootPath","updaters","packageConfigFileName","packageConfigFile","join","packageConfig","readJson","forEach","update","writeJson","spaces","log"],"mappings":";;;;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAASD,OAAO,CAAC,WAAD,CAAtB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,OAAOC,GAAP,EAAYC,QAAZ,EAAsB,GAAGC,QAAzB,KAAsC;AACnD,QAAMC,qBAAqB,GAAG,cAA9B;AACA,QAAMC,iBAAiB,GAAGT,IAAI,CAACU,IAAL,CAAUJ,QAAV,EAAoBE,qBAApB,CAA1B;AACA,QAAMG,aAAa,GAAG,MAAMT,EAAE,CAACU,QAAH,CAAYH,iBAAZ,CAA5B;AAEAF,EAAAA,QAAQ,CAACM,OAAT,CAAiBC,MAAM,IAAIA,MAAM,CAACH,aAAD,CAAjC;AAEA,QAAMT,EAAE,CAACa,SAAH,CAAaN,iBAAb,EAAgCE,aAAhC,EAA+C;AAAEK,IAAAA,MAAM,EAAE;AAAV,GAA/C,CAAN;AACAX,EAAAA,GAAG,CAACY,GAAJ,CAAQ,MAAR,EAAiB,WAAUT,qBAAsB,EAAjD;AACH,CATD","sourcesContent":["const path = require(\"path\");\nconst { fs } = require(\"@genx/sys\");\n\nmodule.exports = async (app, rootPath, ...updaters) => {\n    const packageConfigFileName = 'package.json';\n    const packageConfigFile = path.join(rootPath, packageConfigFileName);\n    const packageConfig = await fs.readJson(packageConfigFile);\n    \n    updaters.forEach(update => update(packageConfig));\n\n    await fs.writeJson(packageConfigFile, packageConfig, { spaces: 4 });\n    app.log('info', `Updated ${packageConfigFileName}`);\n}"],"file":"updatePackageJson_.js"}